<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ron Kagan | Project Keystone: A Growth Strategy for HMP Global</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: This SPA presents "Project Keystone" as a single, continuous-scroll webpage. This structure was chosen to create a seamless narrative flow, guiding the user from the problem to the solution and impact without clicks or interruptions. The layout follows a persuasive arc: 1) The Mandate (Why change?), 2) The Plan (How to change?), 3) The GGS Simulator (The tangible tool), 4) The Audience (Who are we serving?), and 5) The Impact (What will be the result?). This one-page format is ideal for a focused, executive-level proposal, making the entire strategy easily consumable in a single session. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Project Keystone's 4-phase, 12-month roadmap. Goal: Present Solution. Viz: Interactive phased diagram. Interaction: Click phases to reveal detailed tactics. Justification: Makes a complex, year-long plan digestible and interactive within its section. Method: HTML/CSS/JS.
        - Report Info: Growth Guidance System concept. Goal: Demonstrate Innovation. Viz: Interactive simulator dashboard. Interaction: User changes inputs (audience, budget) to see predicted outcomes. Justification: Provides a tangible "wow factor" and proves the "Certainty" concept. Library: Chart.js.
        - Report Info: Three core personas. Goal: Define Target Audience. Viz: Static cards. Justification: Clearly segments the audience as defined in the marketing plan. Method: HTML/CSS/JS.
        - Report Info: Audience affinity data. Goal: Validate Persona Insights. Viz: Horizontal Bar Chart. Interaction: Animates on scroll. Justification: Provides the data-driven "why" behind the persona strategies. Library: Chart.js.
        - Report Info: SMART goals. Goal: Quantify Success. Viz: Animated KPI counters. Interaction: Animate on scroll. Justification: Creates a high-impact summary of the plan's expected outcomes. Method: HTML/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F7F4;
            color: #334155;
        }
        header {
            transition: background-color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }
        .nav-link {
            transition: color 0.3s, border-bottom-color 0.3s;
            border-bottom: 2px solid transparent;
        }
        header.scrolled .nav-link {
            color: #334155;
        }
        header.scrolled .nav-link:hover, header.scrolled .nav-link.active {
             color: #0284c7;
            border-bottom-color: #0284c7;
        }
        header:not(.scrolled) .nav-link {
            color: #f8fafc;
        }
        header:not(.scrolled) .nav-link:hover, header:not(.scrolled) .nav-link.active {
            color: #f8fafc;
            border-bottom-color: #f8fafc;
        }
        header:not(.scrolled) .nav-title {
            color: #f8fafc;
        }
        header:not(.scrolled) #mobile-menu-button {
            color: #f8fafc;
        }
        .proposal-card {
            background-color: #ffffff;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .proposal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .plan-step {
            transition: opacity 0.3s ease-in-out;
        }
        .slider-thumb::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #0284c7;
            cursor: pointer;
            border-radius: 50%;
        }
        .slider-thumb::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #0284c7;
            cursor: pointer;
            border-radius: 50%;
        }
        .fade-in-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in-element.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body class="antialiased">

    <header class="fixed top-0 z-50 w-full">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <a href="#" class="text-xl font-bold nav-title text-sky-700">Ron Kagan | Project Keystone</a>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-center space-x-4">
                        <a href="#mandate" class="nav-link px-3 py-2 rounded-md text-sm font-medium">The Mandate</a>
                        <a href="#plan" class="nav-link px-3 py-2 rounded-md text-sm font-medium">The Plan</a>
                        <a href="#ggs" class="nav-link px-3 py-2 rounded-md text-sm font-medium">GGS Simulator</a>
                        <a href="#audience" class="nav-link px-3 py-2 rounded-md text-sm font-medium">The Audience</a>
                        <a href="#impact" class="nav-link px-3 py-2 rounded-md text-sm font-medium">The Impact</a>
                        <a href="mailto:ron@skilltrade.marketing" class="ml-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500">Contact Ron</a>
                    </div>
                </div>
                 <div class="md:hidden">
                    <button id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-slate-500 hover:text-sky-700 hover:bg-slate-100 focus:outline-none">
                        <span class="sr-only">Open main menu</span>
                        <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
             <div id="mobile-menu" class="md:hidden hidden pb-4 bg-white/95 backdrop-blur-sm rounded-b-lg">
                <a href="#mandate" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-slate-700">The Mandate</a>
                <a href="#plan" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-slate-700">The Plan</a>
                <a href="#ggs" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-slate-700">GGS Simulator</a>
                <a href="#audience" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-slate-700">The Audience</a>
                <a href="#impact" class="nav-link block px-3 py-2 rounded-md text-base font-medium text-slate-700">The Impact</a>
                <a href="mailto:ron@skilltrade.marketing" class="block w-full text-left mt-2 px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700">Contact Ron</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="mandate" class="bg-white pt-16">
            <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
                <div class="text-center fade-in-element">
                    <h2 class="text-base font-semibold text-sky-600 tracking-wide uppercase">The Mandate for Change</h2>
                    <p class="mt-1 text-4xl font-extrabold text-slate-900 sm:text-5xl sm:tracking-tight lg:text-6xl">From a House of Brands to a Branded House</p>
                    <p class="max-w-2xl mt-5 mx-auto text-xl text-slate-500">HMP Global is an omnichannel powerhouse. Yet, its true scale is obscured by a fragmented digital identity. In an era where traditional GTM planning is broken, the path to durable growth is "Certainty." This proposal, "Project Keystone," outlines a strategic imperative to unify the HMP Global brand and build a data-driven growth engine that delivers predictable, measurable results.</p>
                </div>
                <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-16">
                     <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center fade-in-element" style="transition-delay: 200ms;">
                        <div class="proposal-card p-6 rounded-lg">
                            <h3 class="font-bold text-xl text-slate-800">Digital Unification</h3>
                            <p class="mt-2 text-slate-600">Launch a central "Strategic Dashboard" at hmpglobal.com to serve as the digital front door for the entire enterprise.</p>
                        </div>
                        <div class="proposal-card p-6 rounded-lg">
                            <h3 class="font-bold text-xl text-slate-800">Content as an Asset</h3>
                            <p class="mt-2 text-slate-600">Deploy a targeted content strategy to articulate the unique, integrated value of HMP's five business units.</p>
                        </div>
                        <div class="proposal-card p-6 rounded-lg">
                            <h3 class="font-bold text-xl text-slate-800">Data-Driven Engagement</h3>
                            <p class="mt-2 text-slate-600">Activate 6.5 million first-party data points to deliver personalized journeys and provable ROI for partners.</p>
                        </div>
                     </div>
                </div>
            </div>
        </section>

        <section id="plan" class="bg-slate-100">
            <div class="py-16">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center fade-in-element">
                        <h2 class="text-base font-semibold text-sky-600 tracking-wide uppercase">Project Keystone: The 12-Month Growth Blueprint</h2>
                        <p class="mt-1 text-4xl font-extrabold text-slate-900 sm:text-5xl">An AI-Powered Roadmap to Market Leadership</p>
                        <p class="max-w-3xl mt-5 mx-auto text-xl text-slate-500">This is not just a marketing plan; it's a "Growth Guidance System." By integrating AI-powered analytics with a phased execution strategy, we can move from opportunistic planning to deterministic outcomes, ensuring every marketing dollar is invested with confidence.</p>
                    </div>
                    <div class="mt-12 fade-in-element" style="transition-delay: 200ms;">
                         <div class="flex flex-col md:flex-row justify-center items-stretch gap-2 md:gap-0">
                             <div class="plan-step flex-1 text-center p-4 cursor-pointer border-b-4 border-transparent" data-target="plan-foundation">
                                 <div class="flex items-center justify-center w-16 h-16 mx-auto bg-sky-200/50 text-sky-700 rounded-full text-2xl font-bold ring-4 ring-white">1</div>
                                 <p class="mt-2 font-semibold">Foundation & Unification</p>
                                 <p class="text-sm text-slate-500">Months 1-3</p>
                             </div>
                             <div class="plan-step flex-1 text-center p-4 cursor-pointer border-b-4 border-transparent" data-target="plan-launch">
                                 <div class="flex items-center justify-center w-16 h-16 mx-auto bg-sky-200/50 text-sky-700 rounded-full text-2xl font-bold ring-4 ring-white">2</div>
                                 <p class="mt-2 font-semibold">Launch & B2B Acceleration</p>
                                 <p class="text-sm text-slate-500">Months 4-6</p>
                             </div>
                             <div class="plan-step flex-1 text-center p-4 cursor-pointer border-b-4 border-transparent" data-target="plan-engagement">
                                 <div class="flex items-center justify-center w-16 h-16 mx-auto bg-sky-200/50 text-sky-700 rounded-full text-2xl font-bold ring-4 ring-white">3</div>
                                 <p class="mt-2 font-semibold">Clinician Engagement</p>
                                 <p class="text-sm text-slate-500">Months 7-9</p>
                             </div>
                             <div class="plan-step flex-1 text-center p-4 cursor-pointer border-b-4 border-transparent" data-target="plan-optimization">
                                 <div class="flex items-center justify-center w-16 h-16 mx-auto bg-sky-200/50 text-sky-700 rounded-full text-2xl font-bold ring-4 ring-white">4</div>
                                 <p class="mt-2 font-semibold">Optimization & Leadership</p>
                                 <p class="text-sm text-slate-500">Months 10-12</p>
                             </div>
                         </div>
                         <div id="plan-content" class="mt-8 p-8 bg-white rounded-lg max-w-4xl mx-auto text-lg text-slate-600 leading-relaxed min-h-[200px] border">
                            Click a phase above to see key tactics.
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="ggs" class="bg-white">
            <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
                <div class="text-center mb-12 fade-in-element">
                    <h2 class="text-base font-semibold text-sky-600 tracking-wide uppercase">The Growth Guidance System</h2>
                    <p class="mt-1 text-4xl font-extrabold text-slate-900 sm:text-5xl">Certainty Delivered: An Interactive Simulation</p>
                    <p class="max-w-3xl mt-5 mx-auto text-xl text-slate-500">This interactive dashboard demonstrates how HMP Global partners can leverage our AI-powered GGS to plan campaigns with confidence. Adjust the inputs on the left to simulate outcomes and visualize your path to success.</p>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 fade-in-element" style="transition-delay: 200ms;">
                    <!-- Control Panel -->
                    <div class="lg:col-span-1 bg-slate-50 p-6 rounded-xl shadow-lg border">
                        <h3 class="text-xl font-bold mb-4 border-b pb-2">Campaign Inputs</h3>
                        <div class="space-y-6">
                            <div>
                                <label for="ggs-audience" class="block text-sm font-medium text-slate-700 mb-1">1. Target Audience</label>
                                <select id="ggs-audience" class="w-full p-2 border border-slate-300 rounded-md focus:ring-sky-500 focus:border-sky-500">
                                    <option value="1.2">Cardiologists</option>
                                    <option value="1.5" selected>Oncologists</option>
                                    <option value="1.1">Psychiatrists</option>
                                    <option value="0.9">Dermatologists</option>
                                    <option value="1.0">Wound Care Specialists</option>
                                </select>
                            </div>
                            <div>
                                <label for="ggs-budget" class="block text-sm font-medium text-slate-700">2. Campaign Budget</label>
                                <input type="range" id="ggs-budget" min="50000" max="500000" step="10000" value="250000" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer slider-thumb">
                                <div class="text-center font-bold text-sky-700 mt-2" id="ggs-budgetValue">$250,000</div>
                            </div>
                            <div>
                                <h3 class="text-sm font-medium text-slate-700 mb-2">3. Select Omnichannel Tactics</h3>
                                <div class="space-y-2" id="ggs-tactics">
                                    <div class="flex items-center">
                                        <input id="tactic-event" type="checkbox" value="1.5" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" checked>
                                        <label for="tactic-event" class="ml-2 block text-sm text-slate-900">Event Sponsorship (e.g., SAWC)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input id="tactic-digital" type="checkbox" value="1.2" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" checked>
                                        <label for="tactic-digital" class="ml-2 block text-sm text-slate-900">Digital Advertising (Learning Network)</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input id="tactic-email" type="checkbox" value="1.1" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                        <label for="tactic-email" class="ml-2 block text-sm text-slate-900">Targeted Email Campaign</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input id="tactic-webinar" type="checkbox" value="1.3" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                        <label for="tactic-webinar" class="ml-2 block text-sm text-slate-900">KOL Webinar / Video</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input id="tactic-marin" type="checkbox" value="0.8" class="h-4 w-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500">
                                        <label for="tactic-marin" class="ml-2 block text-sm text-slate-900">MARIN Market Intelligence Report</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- GGS Output -->
                    <div class="lg:col-span-2 space-y-8">
                        <div class="bg-slate-100 p-6 rounded-xl shadow-inner border">
                            <h3 class="text-xl font-bold mb-4 text-center">AI-Powered Prediction</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                                <div class="bg-white p-4 rounded-lg shadow-md">
                                    <div class="text-sm text-slate-500">Predicted MQLs</div>
                                    <div id="predictedMQLs" class="text-4xl font-bold text-sky-700">0</div>
                                </div>
                                <div class="bg-white p-4 rounded-lg shadow-md">
                                    <div class="text-sm text-slate-500">Predicted HCP Reach</div>
                                    <div id="predictedReach" class="text-4xl font-bold text-sky-700">0</div>
                                </div>
                                 <div class="bg-white p-4 rounded-lg shadow-md">
                                    <div class="text-sm text-slate-500">Plan Confidence</div>
                                    <div id="confidenceScore" class="text-4xl font-bold text-sky-700">0%</div>
                                    <p class="text-xs text-slate-400">Based on historical data</p>
                                </div>
                            </div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-slate-100 p-6 rounded-xl shadow-inner border">
                                 <h3 class="text-lg font-semibold mb-4 text-center">Predicted MQLs by Quarter</h3>
                                 <div class="h-64"><canvas id="mqlChart"></canvas></div>
                            </div>
                            <div class="bg-slate-100 p-6 rounded-xl shadow-inner border">
                                <h3 class="text-lg font-semibold mb-4 text-center">Budget Allocation by Tactic</h3>
                                <div class="h-64"><canvas id="budgetChart"></canvas></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="text-center mt-12 fade-in-element" style="transition-delay: 300ms;">
                    <button id="emailPlanBtn" class="inline-flex items-center px-8 py-4 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-sky-600 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500">
                        Email My Plan to My HMP Advisor
                    </button>
                </div>
            </div>
        </section>
        
        <section id="audience" class="bg-slate-100">
             <div class="py-16">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="lg:text-center fade-in-element">
                        <h2 class="text-base font-semibold text-sky-600 tracking-wide uppercase">The Audiences We Serve</h2>
                        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">Precision-Targeting for Maximum Impact</p>
                        <p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto">Our strategy is built on a deep, data-validated understanding of three distinct personas. By tailoring our content and platform features to their specific needs, we create undeniable value and foster long-term loyalty.</p>
                    </div>
                    <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-8 fade-in-element" style="transition-delay: 200ms;">
                         <div class="proposal-card rounded-lg p-6 text-center">
                             <h3 class="text-xl font-bold text-slate-800">The Strategic Partner</h3>
                             <p class="mt-2 text-slate-500">A Brand Manager at a pharma or med-device company who needs to demonstrate clear ROI and execute seamless omnichannel campaigns.</p>
                         </div>
                         <div class="proposal-card rounded-lg p-6 text-center">
                             <h3 class="text-xl font-bold text-slate-800">The Engaged Clinician</h3>
                             <p class="mt-2 text-slate-500">A time-scarce HCP seeking practical, accredited education to improve patient care and stay current in their specialty.</p>
                         </div>
                         <div class="proposal-card rounded-lg p-6 text-center">
                             <h3 class="text-xl font-bold text-slate-800">The Market Watcher</h3>
                             <p class="mt-2 text-slate-500">An analyst, investor, or competitor seeking a clear view of HMP's growth strategy, acquisitions, and market position.</p>
                         </div>
                    </div>
                    <div class="mt-16 fade-in-element" style="transition-delay: 300ms;">
                        <h3 class="text-2xl font-bold text-center text-slate-800 mb-4">Data-Validated Audience Insights</h3>
                         <div class="chart-container">
                            <canvas id="affinityChart"></canvas>
                        </div>
                         <p class="text-center mt-4 text-slate-500">High affinity for continuing education and professional development sites validates our persona-driven content strategy.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="impact" class="bg-white">
            <div class="py-16">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center fade-in-element">
                        <h2 class="text-base font-semibold text-sky-600 tracking-wide uppercase">The Impact: Measuring What Matters</h2>
                        <p class="mt-1 text-4xl font-extrabold text-slate-900 sm:text-5xl">The SMART Goals of Project Keystone</p>
                        <p class="max-w-2xl mt-5 mx-auto text-xl text-slate-500">Success will be defined by specific, measurable, and achievable targets. By executing this plan, we will solidify HMP Global's brand, accelerate high-value lead generation, and deepen community engagement.</p>
                    </div>
                    <div class="mt-12 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4 fade-in-element" style="transition-delay: 200ms;">
                        <div class="proposal-card rounded-lg p-6 text-center">
                            <p class="text-5xl font-extrabold text-sky-600" data-target="40" data-suffix="%">0%</p>
                            <p class="mt-2 text-lg font-medium text-slate-600">Increase in Direct Traffic to hmpglobal.com</p>
                        </div>
                        <div class="proposal-card rounded-lg p-6 text-center">
                            <p class="text-5xl font-extrabold text-sky-600" data-target="25" data-suffix="%">0%</p>
                            <p class="mt-2 text-lg font-medium text-slate-600">Increase in MQLs for HMP Collective</p>
                        </div>
                        <div class="proposal-card rounded-lg p-6 text-center">
                            <p class="text-5xl font-extrabold text-sky-600" data-target="30" data-suffix="%">0%</p>
                            <p class="mt-2 text-lg font-medium text-slate-600">Growth in Learning Network Subscribers</p>
                        </div>
                        <div class="proposal-card rounded-lg p-6 text-center">
                            <p class="text-5xl font-extrabold text-sky-600" data-target="15" data-suffix="%">0%</p>
                            <p class="mt-2 text-lg font-medium text-slate-600">Increase in Corporate Media Mentions</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-white">
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-2xl font-bold">Ron Kagan</p>
            <p class="mt-2 text-base text-slate-400">Let's build the future of healthcare engagement, together.</p>
            <p class="mt-4 text-sm text-slate-500">This proposal synthesizes strategic documents into an actionable growth plan.</p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- General Page Elements ---
            const header = document.querySelector('header');
            const navLinks = document.querySelectorAll('.nav-link');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            // --- Plan Section Elements ---
            const planSteps = document.querySelectorAll('.plan-step');
            const planContent = document.getElementById('plan-content');
            const planData = {
                'plan-foundation': { title: 'Phase 1: Foundation & Unification (Months 1-3)', text: "<strong>Key Tactics:</strong><ul class='list-disc pl-5 mt-2'><li>Initiate development of the new hmpglobal.com 'Strategic Dashboard'.</li><li>Develop and implement a universal content tagging taxonomy across all digital properties.</li><li>Produce three flagship B2B case studies for HMP Collective, featuring measurable outcomes.</li></ul>" },
                'plan-launch': { title: 'Phase 2: Launch & B2B Acceleration (Months 4-6)', text: "<strong>Key Tactics:</strong><ul class='list-disc pl-5 mt-2'><li>Launch the new hmpglobal.com with a coordinated communications plan.</li><li>Publish a cornerstone thought leadership report: 'The 2025 State of Omnichannel Engagement in Healthcare'.</li><li>Host a promotional webinar for the report, targeted at the 'Strategic Partner' persona.</li><li><strong>AI Enhancement:</strong> Use a Growth Guidance System to simulate webinar attendance and MQL conversion rates, optimizing ad spend for certainty.</li></ul>" },
                'plan-engagement': { title: 'Phase 3: Clinician Engagement & Community Growth (Months 7-9)', text: "<strong>Key Tactics:</strong><ul class='list-disc pl-5 mt-2'><li>Promote the unified HMP Global Learning Network to drive personalized newsletter sign-ups.</li><li>Launch a 'KOL Spotlight' video series featuring top faculty from events like Psych Congress.</li><li>Develop downloadable clinical resources modeled after high-affinity sites to capture new leads.</li></ul>" },
                'plan-optimization': { title: 'Phase 4: Optimization & Leadership (Months 10-12)', text: "<strong>Key Tactics:</strong><ul class='list-disc pl-5 mt-2'><li>Analyze user flow on hmpglobal.com to optimize conversion paths.</li><li>Publish a 'Year in Review' interactive experience for the 'Market Watcher' persona.</li><li>Pilot a new premium data product from MARIN, offering account-specific intelligence.</li><li><strong>AI Enhancement:</strong> Use predictive analytics on the ViiaTM platform to identify clinicians most likely to engage with new content formats, maximizing impact.</li></ul>" }
            };

            // --- GGS Simulator Elements ---
            const ggsAudienceSelect = document.getElementById('ggs-audience');
            const ggsBudgetSlider = document.getElementById('ggs-budget');
            const ggsBudgetValue = document.getElementById('ggs-budgetValue');
            const ggsTacticsCheckboxes = document.querySelectorAll('#ggs-tactics input[type="checkbox"]');
            const predictedMQLsEl = document.getElementById('predictedMQLs');
            const predictedReachEl = document.getElementById('predictedReach');
            const confidenceScoreEl = document.getElementById('confidenceScore');
            const emailPlanBtn = document.getElementById('emailPlanBtn');
            let mqlChart, budgetChart;

            // --- General Functions ---
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled', 'bg-white/95', 'shadow-md', 'backdrop-blur-sm');
                } else {
                    header.classList.remove('scrolled', 'bg-white/95', 'shadow-md', 'backdrop-blur-sm');
                }
            });

            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    if (!mobileMenu.classList.contains('hidden')) {
                        mobileMenu.classList.add('hidden');
                    }
                });
            });
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));

            // --- Plan Section Functions ---
            planSteps.forEach(step => {
                step.addEventListener('click', () => {
                    const targetId = step.dataset.target;
                    const content = planData[targetId];
                    planContent.innerHTML = `<h3 class="font-bold text-2xl text-slate-800 mb-2">${content.title}</h3><div>${content.text}</div>`;
                    planSteps.forEach(s => s.classList.remove('bg-white', 'border-sky-600'));
                    step.classList.add('bg-white', 'border-sky-600');
                });
            });
            planSteps[0].click();

            // --- GGS Simulator Functions ---
            function formatCurrency(value) { return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value); }
            function formatNumber(value) { return new Intl.NumberFormat('en-US').format(value); }

            function simulateGGS() {
                const audienceMultiplier = parseFloat(ggsAudienceSelect.value);
                const budget = parseInt(ggsBudgetSlider.value);
                let totalTacticMultiplier = 0;
                let selectedTacticsCount = 0;
                const budgetAllocation = [];

                ggsTacticsCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        const multiplier = parseFloat(checkbox.value);
                        totalTacticMultiplier += multiplier;
                        selectedTacticsCount++;
                        budgetAllocation.push({ label: checkbox.nextElementSibling.textContent, value: multiplier });
                    }
                });

                if (selectedTacticsCount === 0) totalTacticMultiplier = 0.1;

                const baseMQL = (budget / 1000) * audienceMultiplier * totalTacticMultiplier;
                const predictedMQLs = Math.round(baseMQL);
                const baseReach = (budget / 10) * audienceMultiplier * Math.sqrt(totalTacticMultiplier);
                const predictedReach = Math.round(baseReach);
                const budgetConfidence = (budget / 500000) * 50;
                const tacticsConfidence = Math.min(1.0, selectedTacticsCount / 4) * 50;
                const confidenceScore = Math.min(98, Math.round(budgetConfidence + tacticsConfidence));

                ggsBudgetValue.textContent = formatCurrency(budget);
                predictedMQLsEl.textContent = formatNumber(predictedMQLs);
                predictedReachEl.textContent = formatNumber(predictedReach);
                confidenceScoreEl.textContent = `${confidenceScore}%`;

                updateGGSCharts(predictedMQLs, budgetAllocation);
            }

            function updateGGSCharts(totalMQLs, allocation) {
                if (!mqlChart || !budgetChart) return;
                const q1 = Math.round(totalMQLs * 0.15), q2 = Math.round(totalMQLs * 0.35), q3 = Math.round(totalMQLs * 0.30), q4 = Math.round(totalMQLs * 0.20);
                mqlChart.data.datasets[0].data = [q1, q2, q3, q4];
                mqlChart.update();

                const totalAllocationValue = allocation.reduce((sum, item) => sum + item.value, 0);
                budgetChart.data.labels = allocation.map(item => item.label);
                budgetChart.data.datasets[0].data = allocation.map(item => (item.value / totalAllocationValue) * 100);
                budgetChart.update();
            }

            function initializeGGSCharts() {
                const mqlCtx = document.getElementById('mqlChart');
                if (!mqlCtx || mqlCtx.dataset.initialized) return;
                mqlChart = new Chart(mqlCtx, {
                    type: 'bar', data: { labels: ['Q1', 'Q2', 'Q3', 'Q4'], datasets: [{ label: 'Predicted MQLs', data: [0, 0, 0, 0], backgroundColor: 'rgba(2, 132, 199, 0.6)', borderColor: 'rgba(2, 132, 199, 1)', borderWidth: 1 }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
                });
                mqlCtx.dataset.initialized = true;

                const budgetCtx = document.getElementById('budgetChart');
                if (!budgetCtx || budgetCtx.dataset.initialized) return;
                budgetChart = new Chart(budgetCtx, {
                    type: 'doughnut', data: { labels: [], datasets: [{ label: 'Budget %', data: [], backgroundColor: ['rgba(14, 165, 233, 0.7)', 'rgba(56, 189, 248, 0.7)', 'rgba(125, 211, 252, 0.7)', 'rgba(34, 211, 238, 0.7)', 'rgba(103, 232, 249, 0.7)'] }] },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'bottom', labels: { boxWidth: 12 } } } }
                });
                budgetCtx.dataset.initialized = true;
                
                simulateGGS();
            }
            
            ggsAudienceSelect.addEventListener('change', simulateGGS);
            ggsBudgetSlider.addEventListener('input', simulateGGS);
            ggsTacticsCheckboxes.forEach(checkbox => checkbox.addEventListener('change', simulateGGS));
            
            emailPlanBtn.addEventListener('click', () => {
                const audience = ggsAudienceSelect.options[ggsAudienceSelect.selectedIndex].text;
                const budget = ggsBudgetValue.textContent;
                const mqls = predictedMQLsEl.textContent;
                const reach = predictedReachEl.textContent;
                const confidence = confidenceScoreEl.textContent;
                let tactics = [];
                ggsTacticsCheckboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        tactics.push(checkbox.nextElementSibling.textContent);
                    }
                });

                const subject = "HMP Investment Plan for Discussion";
                let body = "Hello Mary,\n\nPlease see the following investment in HMP that I would like to discuss with you.\n\n";
                body += "--- GGS Simulated Plan ---\n";
                body += `Target Audience: ${audience}\n`;
                body += `Campaign Budget: ${budget}\n`;
                body += `Selected Tactics: ${tactics.join(', ')}\n\n`;
                body += "--- Predicted Outcomes ---\n";
                body += `Predicted MQLs: ${mqls}\n`;
                body += `Predicted HCP Reach: ${reach}\n`;
                body += `Plan Confidence: ${confidence}\n\n`;
                body += "Best regards,";

                window.location.href = `mailto:mguerrlich@hmpglobal.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
            });


            // --- Intersection Observer for Animations & Chart Init ---
            const animatedElements = document.querySelectorAll('.fade-in-element');

            function animateCounters(element) {
                const counters = element.querySelectorAll('p[data-target]');
                counters.forEach(counter => {
                    if (counter.dataset.animated) return;
                    counter.dataset.animated = true;
                    const target = +counter.getAttribute('data-target'), suffix = counter.getAttribute('data-suffix') || '';
                    counter.innerText = '0' + suffix;
                    const updateCount = () => {
                        const count = +counter.innerText.replace(suffix, '');
                        const inc = target / 100;
                        if (count < target) {
                            counter.innerText = Math.ceil(count + inc).toLocaleString() + suffix;
                            setTimeout(updateCount, 20);
                        } else { counter.innerText = target.toLocaleString() + suffix; }
                    };
                    updateCount();
                });
            }

            function initializeAffinityChart(element) {
                const canvas = element.querySelector('#affinityChart');
                if (!canvas || canvas.dataset.initialized) return;
                const ctx = canvas.getContext('2d');
                new Chart(ctx, {
                    type: 'bar', data: { labels: ['PESI.com (Cont. Ed)', 'NICABM.com (Psychotherapy)', 'Medscape.com (Medical News)', 'WallStreetPrep.com (Finance)', 'MergersAndInquisitions.com (Finance)'], datasets: [{ label: 'Audience Affinity Score', data: [60, 52, 50, 38, 35], backgroundColor: 'rgba(59, 130, 246, 0.7)', borderColor: 'rgba(59, 130, 246, 1)', borderWidth: 1 }] },
                    options: { indexAxis: 'y', responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `${c.dataset.label}: ${c.parsed.x}` } } }, scales: { x: { beginAtZero: true, title: { display: true, text: 'Affinity Score' } } } }
                });
                canvas.dataset.initialized = true;
            }

            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        const parentSectionId = entry.target.closest('section').id;

                        if (parentSectionId === 'impact') animateCounters(entry.target);
                        if (parentSectionId === 'audience' && entry.target.querySelector('#affinityChart')) initializeAffinityChart(entry.target);
                        if (parentSectionId === 'ggs') initializeGGSCharts();
                    }
                });
            }, { threshold: 0.2 });

            animatedElements.forEach(el => sectionObserver.observe(el));
            
            const navObserver = new IntersectionObserver((entries) => {
                 entries.forEach(entry => {
                    if(entry.isIntersecting){
                        const id = entry.target.getAttribute('id');
                        const navLink = document.querySelector(`.nav-link[href="#${id}"]`);
                        navLinks.forEach(link => link.classList.remove('active'));
                        if (navLink) navLink.classList.add('active');
                    }
                 });
            }, { rootMargin: "-30% 0px -30% 0px" });
            
            const mainSections = document.querySelectorAll('main > section');
            mainSections.forEach(section => navObserver.observe(section));
        });
    </script>
</body>
</html>
